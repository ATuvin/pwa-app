# Информация о безопасности

## Устраненные уязвимости

✅ **xlsx** - Заменен на **ExcelJS** (безопасная альтернатива)
- Причина: Prototype Pollution и ReDoS уязвимости
- Решение: Использование ExcelJS для генерации Excel файлов

✅ **dompurify** - Обновлен до версии 3.2.4
- Причина: XSS уязвимость в старых версиях
- Решение: Добавлена явная зависимость на безопасную версию

## Оставшиеся уязвимости

### 1. esbuild (умеренная)
- **Проблема**: Уязвимость в dev-сервере (только при разработке)
- **Влияние**: Затрагивает только локальный dev-сервер, не production билд
- **Риск**: Низкий для production приложения
- **Решение**: Обновление Vite до последней версии (5.1.0+)

### 2. jspdf + dompurify (умеренная)
- **Проблема**: jsPDF использует старую версию dompurify внутри
- **Влияние**: Потенциальная XSS при генерации PDF
- **Риск**: Низкий-средний (для локального PWA приложения)
- **Альтернативы**:
  - Использовать jsPDF версии 3.x (breaking changes)
  - Заменить на другую библиотеку для PDF (pdfmake, react-pdf)

## Рекомендации

1. **Для production**: Риски минимальны, так как:
   - Приложение работает локально (PWA)
   - Уязвимости в dev-зависимостях не влияют на production билд
   - ExcelJS безопасен для использования

2. **Для разработки**: 
   - Используйте последние версии Node.js
   - Запускайте dev-сервер только на локальной машине

3. **Будущие обновления**:
   - Рассмотреть переход на jsPDF 3.x после тестирования
   - Следить за обновлениями Vite для устранения esbuild уязвимости

## Проверка безопасности

Запустите для проверки:
```bash
npm audit
```

Для автоматического исправления (может содержать breaking changes):
```bash
npm audit fix
```

